---
import Layout from "@layouts/Layout.astro";
import SlideButtons from "@components/SlideButtons.astro";
---
<Layout>
	<div class="h-screen flex flex-col bg-white relative overflow-hidden">
		<!-- Fondo con patrón geométrico -->
		<div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-indigo-700"></div>
		<div class="absolute inset-0 opacity-10">
			<div class="absolute top-0 left-0 w-full h-full"
				 style="background-image: radial-gradient(circle at 25% 25%, white 2px, transparent 2px); background-size: 60px 60px;">
			</div>
		</div>

		<!-- Contenido principal -->
		<div class="flex-1 flex items-center justify-center relative z-10 px-8">
			<div class="max-w-6xl w-full grid lg:grid-cols-2 gap-16 items-center">
				
				<!-- Columna izquierda: Título principal -->
				<div class="text-white space-y-6" id="main-section">
					
					<h1 class="text-5xl lg:text-6xl font-bold leading-tight" id="main-title">
						Protocolo de<br>
						<span class="text-blue-200">Accidente</span>
					</h1>
					
					<p class="text-xl text-blue-100 leading-relaxed max-w-lg" id="subtitle">
						Procedimientos de emergencia y prevención de accidentes en laboratorios académicos
					</p>
				</div>

				<!-- Columna derecha: Contenido informativo -->
				<div class="space-y-6" id="content-section">
					<!-- Tarjeta principal -->
					<div class="bg-white rounded-2xl p-6 shadow-2xl" id="main-card">
						<div class="flex items-start space-x-4">
							<div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0 mt-1">
								<svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
								</svg>
							</div>
							<div>
								<h2 class="text-2xl font-bold text-gray-800 mb-3">Seguridad en el Laboratorio</h2>
								<p class="text-gray-600 leading-relaxed">
									Análisis de protocolos de seguridad y procedimientos de emergencia para prevenir accidentes en entornos de investigación.
								</p>
							</div>
						</div>
					</div>

					<!-- Tarjeta del caso de estudio -->
					<div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-orange-200" id="case-card">
						<div class="flex items-start space-x-4">
							<div class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0 mt-1">
								<svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"/>
								</svg>
							</div>
							<div>
								<h3 class="text-lg font-bold text-gray-800 mb-2">Caso de Estudio</h3>
								<p class="text-gray-700 text-sm leading-relaxed">
									<strong>Explosión de capacitor electrolítico</strong><br>
									por conexión con polaridad invertida
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer con indicadores y navegación -->
		<div class="relative z-10 pb-6">
			<div class="flex items-center justify-between px-8">
				<!-- Indicadores de progreso -->
				<div class="flex space-x-2" id="progress-indicators">
					<div class="w-3 h-3 bg-white rounded-full shadow-lg"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
				</div>

				<!-- Número de página -->
				<div class="text-white/80 text-sm font-medium">
					1 / 7
				</div>

				<!-- Botones de navegación -->
				<div id="navigation-buttons">
					<SlideButtons urlNext="/2" urlBack="/7-1" />
				</div>
			</div>
		</div>
	</div>

	<!-- Scripts de animación -->
	<script>
		import { gsap } from "gsap";

		// Función para inicializar las animaciones
		function initAnimations() {
			// Timeline principal
			const tl = gsap.timeline();

			// Animación del badge del header
			tl.from("#header-badge", {
				x: -50,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			})

			// Animación del título principal
			.from("#main-title", {
				y: 50,
				opacity: 0,
				duration: 1,
				ease: "power3.out"
			}, "-=0.4")

			// Animación del subtítulo
			.from("#subtitle", {
				y: 30,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			}, "-=0.5")

			// Animación de la tarjeta principal
			.from("#main-card", {
				x: 100,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			}, "-=0.6")

			// Animación de la tarjeta de caso de estudio
			.from("#case-card", {
				x: 100,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			}, "-=0.4")

			// Animación de los indicadores de progreso
			.from("#progress-indicators div", {
				scale: 0,
				duration: 0.4,
				stagger: 0.1,
				ease: "back.out(1.7)"
			}, "-=0.3")

			// Animación de los botones de navegación
			.from("#navigation-buttons", {
				y: 20,
				opacity: 0,
				duration: 0.6,
				ease: "power2.out"
			}, "-=0.2");

			// Animaciones de hover para las tarjetas
			const cards = document.querySelectorAll("#main-card, #case-card");
			cards.forEach(card => {
				card.addEventListener("mouseenter", () => {
					gsap.to(card, {
						y: -5,
						scale: 1.02,
						duration: 0.3,
						ease: "power2.out"
					});
				});

				card.addEventListener("mouseleave", () => {
					gsap.to(card, {
						y: 0,
						scale: 1,
						duration: 0.3,
						ease: "power2.out"
					});
				});
			});

			// Animación de respiración para el badge principal
			gsap.to("#header-badge .bg-red-500", {
				scale: 1.05,
				duration: 2,
				ease: "power2.inOut",
				yoyo: true,
				repeat: -1
			});
		}

		// Inicializar cuando el DOM esté listo
		document.addEventListener("DOMContentLoaded", initAnimations);
	</script>
</Layout>