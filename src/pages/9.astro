---
import Layout from "@layouts/Layout.astro";
import SlideButtons from "@components/SlideButtons.astro";
---
<Layout>
	<div class="h-screen flex flex-col bg-white relative overflow-hidden">
		<!-- Fondo con patr√≥n geom√©trico -->
		<div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-indigo-700"></div>
		<div class="absolute inset-0 opacity-10">
			<div class="absolute top-0 left-0 w-full h-full"
				 style="background-image: radial-gradient(circle at 25% 25%, white 2px, transparent 2px); background-size: 60px 60px;">
			</div>
		</div>

		<!-- Contenido principal -->
		<div class="flex-1 flex items-center justify-center relative z-10 px-8">
			<div class="max-w-6xl w-full grid lg:grid-cols-2 gap-16 items-center">
				
				<!-- Columna izquierda: T√≠tulo principal -->
				<div class="text-white space-y-6" id="main-section">
					<div class="flex items-center space-x-4 mb-8" id="header-badge">
						<div class="w-12 h-12 bg-emerald-500 rounded-lg flex items-center justify-center">
							<svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 20 20">
								<path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
							</svg>
						</div>
						<span class="text-blue-200 text-sm font-medium uppercase tracking-wider">P√°gina 9</span>
					</div>
					
					<h1 class="text-5xl lg:text-6xl font-bold leading-tight" id="main-title">
						Medidas<br>
						<span class="text-blue-200">Posteriores</span>
					</h1>
					
					<p class="text-xl text-blue-100 leading-relaxed max-w-lg" id="subtitle">
						Notificaci√≥n, Registro y Seguimiento del protocolo post-accidente
					</p>
				</div>

				<!-- Columna derecha: Contenido informativo -->
				<div class="space-y-4" id="content-section">
					<!-- T√≠tulo del proceso -->
					<div class="bg-white rounded-2xl p-6 shadow-2xl" id="main-card">
						<h2 class="text-xl font-bold text-gray-800 mb-2 flex items-center">
							<span class="text-xl mr-3">üìã</span>
							Proceso Post-Accidente
						</h2>
					</div>

					<!-- Pasos del proceso -->
					<div class="space-y-3" id="case-card">
						<div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200">
							<div class="flex items-start space-x-3">
								<div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
									<span class="text-blue-600 font-bold text-sm">1</span>
								</div>
								<div>
									<h3 class="font-bold text-gray-800 text-sm mb-1">Notificaci√≥n Formal</h3>
									<p class="text-gray-600 text-xs">Jefatura de Carrera ‚Üí Mutualidad/Seguro Escolar (DIAT)</p>
								</div>
							</div>
						</div>

						<div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200">
							<div class="flex items-start space-x-3">
								<div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
									<span class="text-green-600 font-bold text-sm">2</span>
								</div>
								<div>
									<h3 class="font-bold text-gray-800 text-sm mb-1">Registro del Incidente</h3>
									<p class="text-gray-600 text-xs">Informe inicial detallado por el Docente + testimonios</p>
								</div>
							</div>
						</div>

						<div class="bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl p-4 border border-orange-200">
							<div class="flex items-start space-x-3">
								<div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
									<span class="text-orange-600 font-bold text-sm">3</span>
								</div>
								<div>
									<h3 class="font-bold text-gray-800 text-sm mb-1">Investigaci√≥n</h3>
									<p class="text-gray-600 text-xs">Determinar causas ra√≠z (no buscar culpables)</p>
								</div>
							</div>
						</div>

						<div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200">
							<div class="flex items-start space-x-3">
								<div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
									<span class="text-purple-600 font-bold text-sm">4</span>
								</div>
								<div>
									<h3 class="font-bold text-gray-800 text-sm mb-1">Plan de Acci√≥n</h3>
									<p class="text-gray-600 text-xs">Medidas correctivas y preventivas con responsables y plazos</p>
								</div>
							</div>
						</div>

						<div class="bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-200">
							<div class="flex items-start space-x-3">
								<div class="w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
									<span class="text-teal-600 font-bold text-sm">5</span>
								</div>
								<div>
									<h3 class="font-bold text-gray-800 text-sm mb-1">Seguimiento y Mejora Continua</h3>
									<p class="text-gray-600 text-xs">Verificaci√≥n de implementaci√≥n y comunicaci√≥n de lecciones aprendidas</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer con indicadores y navegaci√≥n -->
		<div class="relative z-10 pb-6">
			<div class="flex items-center justify-between px-8">
				<!-- Indicadores de progreso -->
				<div class="flex space-x-2" id="progress-indicators">
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white/40 rounded-full"></div>
					<div class="w-3 h-3 bg-white rounded-full shadow-lg"></div>
				</div>

				<!-- N√∫mero de p√°gina -->
				<div class="text-white/80 text-sm font-medium">
					9 / 9
				</div>

				<!-- Botones de navegaci√≥n -->
				<div id="navigation-buttons">
					<SlideButtons urlNext="/" urlBack="/8" />
				</div>
			</div>
		</div>
	</div>

	<!-- Scripts de animaci√≥n -->
	<script>
		import { gsap } from "gsap";

		function initAnimations() {
			const tl = gsap.timeline();

			tl.from("#header-badge", {
				x: -50,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			})
			.from("#main-title", {
				y: 50,
				opacity: 0,
				duration: 1,
				ease: "power3.out"
			}, "-=0.4")
			.from("#subtitle", {
				y: 30,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			}, "-=0.5")
			.from("#main-card", {
				x: 100,
				opacity: 0,
				duration: 0.8,
				ease: "power3.out"
			}, "-=0.6")
			.from("#case-card > div", {
				x: 100,
				opacity: 0,
				duration: 0.6,
				stagger: 0.15,
				ease: "power3.out"
			}, "-=0.4")
			.from("#progress-indicators div", {
				scale: 0,
				duration: 0.4,
				stagger: 0.1,
				ease: "back.out(1.7)"
			}, "-=0.3")
			.from("#navigation-buttons", {
				y: 20,
				opacity: 0,
				duration: 0.6,
				ease: "power2.out"
			}, "-=0.2");

			const cards = document.querySelectorAll("#main-card, #case-card > div");
			cards.forEach(card => {
				card.addEventListener("mouseenter", () => {
					gsap.to(card, { y: -3, scale: 1.02, duration: 0.3, ease: "power2.out" });
				});
				card.addEventListener("mouseleave", () => {
					gsap.to(card, { y: 0, scale: 1, duration: 0.3, ease: "power2.out" });
				});
			});

			gsap.to("#header-badge .bg-emerald-500", {
				scale: 1.05, duration: 2, ease: "power2.inOut", yoyo: true, repeat: -1
			});
		}

		document.addEventListener("DOMContentLoaded", initAnimations);
	</script>
</Layout>